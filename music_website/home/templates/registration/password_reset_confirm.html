{% extends "base.html" %}
{% load widget_tweaks %}

{% block content %}

    {% if validlink %}
        <p>Please enter (and confirm) your new password.</p>
        <form action="" method="post">
        {% csrf_token %}
            <div class="form-group mb-2 col-6">
                {{ form.new_password1.errors }}
                <label for="id_new_password1">New password:</label>
                {{ form.new_password1|add_class:'form-control' }}
            </div>
            <div class="form-group mb-2 col-6">
                {{ form.new_password2.errors }}
                <label for="id_new_password2">Confirm password:</label>
                {{ form.new_password2|add_class:'form-control' }}
            </div>
            <input type="submit" value="Change my password" class="btn btn-primary mb-2 col-6" />
        </form>
    {% else %}
    <div class="alert alert-warning d-flex align-items-center" role="alert">
        <i class="bi bi-info-square flex-shrink-0 me-2"></i>
        <h1 class="alert-heading">Password reset failed</h1>
        <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
    </div>
    {% endif %}  

{% endblock %}
